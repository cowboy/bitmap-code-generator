(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6923:function(n,t,e){"use strict";e.r(t),e.d(t,{__N_SSG:function(){return cn},default:function(){return un}});var r=e(2809),o=e(318),a=e(7294),c=e(9008),u=e(6467),i=e(1860),l=e.n(i),s=function(){var n=a.useState(0),t=(0,o.Z)(n,2),e=(t[0],t[1]);return function(){return e((function(n){return n+1}))}},f=e(5918),p=e.n(f),m=e(5893),h=l().namespace("preset"),d={robot:[66,126,129,165,129,126,60,255],play:[255,129,177,189,189,177,129,255],stop:[255,129,189,189,189,189,129,255],ok:[101,149,149,150,150,149,149,101],err:[61,66,133,137,145,161,66,188],number1:[6,14,22,6,6,6,6,31],number2:[14,27,3,3,6,12,24,31],number3:[30,3,3,14,3,3,3,30],number4:[3,7,11,27,31,3,3,3]},b=function(n){return d[n]},j=function(n){return h(n)},y=function(n){var t=n.onClick,e=s(),r=function(n,r){return function(o){if("SPAN"===o.target.nodeName)confirm('Delete preset "'.concat(r,'"?'))&&(!function(n){h.remove(n)}(r),e());else{var a=n(r);t({name:r,array:a})}}};return(0,m.jsxs)("div",{children:[h.size()>0&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h3",{children:"Your saved bitmaps"}),Object.keys(h()).sort().map((function(n){return(0,m.jsxs)("button",{className:p().deletePresetButton,onClick:r(j,n),children:[n,(0,m.jsx)("span",{className:p().deletePreset,children:"\u274c"})]},n)}))]}),(0,m.jsx)("h3",{children:"Example bitmaps"}),Object.keys(d).map((function(n){return(0,m.jsx)("button",{onClick:r(b,n),children:n},n)}))]})},v=e(3789),x=e(1077),g=e(6129);function O(){O=function(n,t){return new e(n,void 0,t)};var n=RegExp.prototype,t=new WeakMap;function e(n,r,o){var a=new RegExp(n,r);return t.set(a,o||t.get(n)),(0,g.Z)(a,e.prototype)}function r(n,e){var r=t.get(e);return Object.keys(r).reduce((function(t,e){return t[e]=n[r[e]],t}),Object.create(null))}return(0,x.Z)(e,RegExp),e.prototype.exec=function(t){var e=n.exec.call(this,t);return e&&(e.groups=r(e,this)),e},e.prototype[Symbol.replace]=function(e,o){if("string"===typeof o){var a=t.get(this);return n[Symbol.replace].call(this,e,o.replace(/\$<([^>]+)>/g,(function(n,t){return"$"+a[t]})))}if("function"===typeof o){var c=this;return n[Symbol.replace].call(this,e,(function(){var n=arguments;return"object"!==typeof n[n.length-1]&&(n=[].slice.call(n)).push(r(n,c)),o.apply(this,n)}))}return n[Symbol.replace].call(this,e,o)},O.apply(this,arguments)}var A={"C++ (GyverMAX7219)":{fromCode:function(n){return(O(/.*?([0-9A-Z_a-z]+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\[\](?:(?!=)[\s\S])*=[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\{((?:(?!\})[\s\S])+)?\}?.*$/,{name:1,arrayStr:2}).exec(n)||{}).groups},toCode:function(n){var t=n.name,e=n.arrayStr;return"const uint8_t ".concat(t,"[] PROGMEM = {").concat(e,"};")}},JavaScript:{fromCode:function(n){return(O(/.*?([0-9A-Z_a-z]+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*=[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\[((?:(?!\])[\s\S])+)?\]?.*$/,{name:1,arrayStr:2}).exec(n)||{}).groups},toCode:function(n){var t=n.name,e=n.arrayStr;return"const ".concat(t," = [").concat(e,"]")}}};function C(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function w(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?C(Object(e),!0).forEach((function(t){(0,r.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):C(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var _=l().namespace("transform"),S=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(n){return t.reduce((function(n,t){return w(w({},n),t(n))}),n)}},P=function(n){var t=Array.isArray(n)?Math.max.apply(Math,(0,v.Z)(n)):n;return 8*Math.ceil(t/8)},k=function(n){var t=Array.isArray(n)?Math.max.apply(Math,(0,v.Z)(n)):n;return 8*Math.max(1,Math.floor(t/8))},E=function(n){return P(n.split("\n").map((function(n){return n.length})))},F=function(n){var t=n.bitmap,e=E(t),r=function(n){return n%10};console.log(["  ".concat(Array.from({length:e},(function(n,t){return r(t)})).join(""))].concat((0,v.Z)(t.split("\n").map((function(n,t){return"".concat(r(t),"|").concat(n,"|")})))).join("\n"))},M=function(n){var t=n.code,e=n.format,r=A[e].fromCode(t.trim())||{},o=r.name,a=void 0===o?"":o,c=r.arrayStr,u=void 0===c?"":c,i=r.array;return{name:a,array:void 0===i?/\S/.test(u)?u.split(/\s*,\s*/).filter((function(n,t,e){var r=e.length;return!(""===n&&t===r-1)})).map((function(n){return""===n?0:parseInt(n)})).map((function(n){return isNaN(n)?0:n})):[]:i}},N=function(n){var t=n.array,e=function(n){return P(n.map((function(n){return n.toString(2).length})))}(t);return{bitmap:t.map((function(n){var t=n.toString(2).replace(/0/g," ").replace(/1/g,"x"),r=" ".repeat(Math.max(0,e-t.length));return"".concat(r).concat(t)})).join("\n")}},B=function(n){var t=n.bitmap,e=E(t);return{array:t.split("\n").map((function(n){n=n.replace(/ /g,"0").replace(/[^0]/g,"1"),n+="0".repeat(Math.max(0,e-n.length));var t=parseInt(n,2);return isNaN(t)?0:t}))}},D=function(n){var t=n.array,e=n.name,r=n.format,o=P(t.map((function(n){return n.toString(2).length}))),a=(Math.pow(2,o)-1).toString(16).length,c=t.map((function(n){var t="".concat("0".repeat(a)).concat(n.toString(16)).slice(-a);return"0x".concat(t)})).join(", ");return{code:A[r].toCode({name:e,array:t,arrayStr:c})}},Z=function(n){var t=n.bitmap,e=n.array;if(t){var r=t.split("\n");return{width:P(r.map((function(n){return n.length}))),height:r.length}}return{width:P(e.map((function(n){return n.toString(2).length}))),height:e.length}},G=function(n){var t=n.name;return{name:t=t.replace(/\W/g,"_")}},R=function(n){var t=n.format,e=void 0===t?_("format")||"C++ (GyverMAX7219)":t;return _("format",e),{format:e}},T=function(n){var t=n.scale,e=void 0===t?_("scale")||1:t;return e=Math.max(.25,Math.min(e,2)),_("scale",e),{scale:e}};function X(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function z(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?X(Object(e),!0).forEach((function(t){(0,r.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):X(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var U="robot",V=S(R,T,N,Z,D,F)({name:U,array:b(U)}),W={scale:function(n,t){return S(T)(z(z({},n),{},{scale:t}))},bitmap:function(n,t){return S(B,Z,D,F)(z(z({},n),{},{bitmap:t}))},code:function(n,t){return S(M,N,Z,F)(z(z({},n),{},{code:t}))},formatCode:function(n,t){return S(D)(z(z({},n),{},{code:t}))},name:function(n,t){return S(G,D)(z(z({},n),{},{name:t}))},format:function(n,t){return S(R,D)(z(z({},n),{},{format:t}))},preset:function(n,t){var e=t.name,r=t.array;return S(N,Z,D,F)(z(z({},n),{},{name:e,array:r}))}},H=function(n,t){var e=t.type,r=t.payload;return W[e]?W[e](n,r):n},I=e(1186),J=e.n(I),L=e(4184),Q=e.n(L),q=e(9140),Y=e.n(q),$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],K=[16380,16386,32769,32769,32769,32769,32769,32769,32769,32769,32769,32769,32769,32769,16386,16380],nn=[32766,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,32766],tn=function(n){var t=n.name,e=n.children;return(0,m.jsxs)("span",{className:Y().buttonGroup,children:[t&&(0,m.jsx)("span",{className:Y().buttonHeader,children:t}),e]})},en=function(n){var t=n.bitmap,e=n.width,c=n.height,u=n.scale,i=n.onChangeBitmap,l=n.onChangeScale,s=a.useState(null),f=(0,o.Z)(s,2),p=f[0],h=f[1],d=function(n){return function(){l(n*u)}},b=function(n){return n.split("\n").map((function(n){return n.length<e&&(n+=" ".repeat(e-n.length)),n.split("").map((function(n){return" "!==n}))}))},j=function(n){return y(n)()},y=function(n){return function(){var e=b(t);i(function(n){return n.map((function(n){return n.map((function(n){return n?"x":" "})).join("")})).join("\n")}(n(e)||e))}},x=function(n,t){return function(e){var r;e.preventDefault(),j((function(e){r=e[t][n]=!e[t][n]})),h(r)}},g=function(n,t){return function(){null!==p&&j((function(e){e[t][n]=p}))}};a.useEffect((function(){var n=function(){h(null)};return document.addEventListener("mouseup",n,!1),function(){document.removeEventListener("mouseup",n,!1)}}));var O=function(){return!1},A=function(n){return function(t){return t.map(n)}},C=function(n){return function(t){return[].concat((0,v.Z)(t.slice(n)),(0,v.Z)(t.slice(0,n)))}},w=function(n){return function(t){return[].concat((0,v.Z)(t),(0,v.Z)(n()))}},_=function(n){return function(t){return t.slice(0,n)}},S=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;return function(){return Array.from({length:n},t)}},P=y(A(A(O))),E=y(A(A((function(n){return!n})))),F=y(A(C(1))),M=y(A(C(-1))),B=y(C(1)),D=y(C(-1)),Z=y(A(_(k(e-1)))),G=y(A(w(S(8)))),R=y(_(k(c-1))),T=y(w(S(8,S(e))));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(J(),{url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAklEQVR4AewaftIAAABzSURBVJ3BAXKCABAEsOz9/89bAXWgFqomQe0EtQka1Kkh9moT1E1dGuovdS1iMb5UtRhviTPjLXVmfCtW4y4+k1qNu3oV52ozLtT/xtdiMZ7iM7UYT3UQd3FliFUcFXFTr+JhqFWJX+pEPYydOoqdWMXRD7IJGR9tCTLHAAAAAElFTkSuQmCC",renderOverlay:function(n,r){var o=new Uint8ClampedArray(1024),a=function(n,t,e){var r=4*(16*t+n);o[r+0]=e?255:0,o[r+1]=e?255:0,o[r+2]=e?255:0},u=function(n,t){return b(n).forEach((function(n,e){return n.forEach((function(n,r){return t(r,e,n)}))}))},i=8===e,l=8===c;u(N({array:i&&l?K:$}).bitmap,a),u(N({array:nn}).bitmap,(function(n,t,e){o[4*(16*t+n)+3]=e?255:0})),u(t,(function(n,t,e){a(n+(i?4:0),t+(l?4:0),e)}));var s=new ImageData(o,16,16);r.putImageData(s,0,0)}}),(0,m.jsxs)("div",{className:Y().buttons,children:[(0,m.jsxs)(tn,{children:[(0,m.jsx)("button",{onClick:P,children:"clear"}),(0,m.jsx)("button",{onClick:E,children:"invert"})]}),(0,m.jsxs)(tn,{name:"Move",children:[(0,m.jsx)("button",{onClick:F,children:"\u21e6"}),(0,m.jsx)("button",{onClick:D,children:"\u21e9"}),(0,m.jsx)("button",{onClick:B,children:"\u21e7"}),(0,m.jsx)("button",{onClick:M,children:"\u21e8"})]}),(0,m.jsx)(tn,{name:"Size",children:(0,m.jsxs)("span",{children:[e,"x",c]})}),(0,m.jsxs)(tn,{name:"Width",children:[(0,m.jsxs)("button",{onClick:Z,children:["-",8]}),(0,m.jsxs)("button",{onClick:G,children:["+",8]})]}),(0,m.jsxs)(tn,{name:"Height",children:[(0,m.jsxs)("button",{onClick:R,children:["-",8]}),(0,m.jsxs)("button",{onClick:T,children:["+",8]})]}),(0,m.jsxs)(tn,{name:"Pixel",children:[(0,m.jsx)("button",{onClick:d(.5),children:"\u21e9"}),(0,m.jsx)("button",{onClick:d(2),children:"\u21e7"})]})]}),(0,m.jsx)("style",{children:".".concat(Y().table," { --cell-size: ").concat(30*u,"px; }")}),(0,m.jsx)("table",{className:Y().table,children:(0,m.jsx)("tbody",{children:b(t).map((function(n,t){return(0,m.jsx)("tr",{className:Y().row,children:n.map((function(n,e){return(0,m.jsx)("td",{className:Q()(Y().cell,(0,r.Z)({},Y().on,n)),onMouseDown:x(e,t),onMouseEnter:g(e,t)},e)}))},t)}))})})]})};function rn(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function on(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(e),!0).forEach((function(t){(0,r.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):rn(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var an="https://github.com/cowboy/bitmap-code-generator",cn=!0;function un(n){var t=n.commitSha,e=a.useReducer(H,V),r=(0,o.Z)(e,2),i=r[0],l=r[1],f=s(),p=function(n){return function(t){var e=t.target.value;l({type:n,payload:e})}},d=function(n){return function(t){l({type:n,payload:t})}};return(0,m.jsxs)(u.default,{children:[(0,m.jsxs)(c.default,{children:[(0,m.jsx)("title",{children:"Bitmap \u21d4 Code Generator"}),(0,m.jsx)("meta",{name:"description",content:"Bitmap \u21d4 Code Generator"})]}),(0,m.jsx)("h1",{children:"Bitmap \u21d4 Code Generator"}),(0,m.jsxs)("label",{children:[(0,m.jsx)("h3",{children:"Name"}),(0,m.jsx)("input",{value:i.name,onChange:p("name"),className:"code"})," ",(0,m.jsx)("button",{onClick:function(){var n,t;n=i.name,t=i.array,h.has(n)&&!confirm('Replace preset "'.concat(n,'"?'))||h(n,t),f()},children:"Save"})]}),(0,m.jsx)("h3",{children:"Bitmap"}),(0,m.jsx)(en,on(on({},i),{},{onChangeBitmap:d("bitmap"),onChangeScale:d("scale")})),(0,m.jsxs)("label",{children:[(0,m.jsx)("h3",{children:"Code format"}),(0,m.jsx)("select",{value:i.format,onChange:p("format"),children:Object.keys(A).map((function(n){return(0,m.jsx)("option",{value:n,children:n},n)}))})]}),(0,m.jsxs)("label",{children:[(0,m.jsx)("h3",{children:"Code"}),(0,m.jsx)("textarea",{value:i.code,onChange:p("code"),onBlur:p("formatCode"),className:"code"})]}),(0,m.jsx)(y,{onClick:d("preset")}),(0,m.jsxs)("p",{children:["Made by"," ",(0,m.jsx)("a",{href:"http://benalman.com/",children:"\u201cCowboy\u201d Ben Alman"})," for"," ",(0,m.jsx)("a",{href:"https://www.theentirerobot.com/",children:"The Entire Robot"}),". Source code on ",(0,m.jsx)("a",{href:an,children:"GitHub"}),", patches welcome!",t&&(0,m.jsxs)(m.Fragment,{children:[" ","Built from commit"," ",(0,m.jsx)("a",{href:"".concat(an,"/commit/").concat(t),children:t.slice(0,7)}),"."]})]})]})}},8581:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(6923)}])},9140:function(n){n.exports={table:"Bitmap_table__3Vul6",row:"Bitmap_row__3Pbov",cell:"Bitmap_cell__3vlDp",on:"Bitmap_on__1ZaZr",buttonGroup:"Bitmap_buttonGroup__3_cDi",buttonHeader:"Bitmap_buttonHeader__3kLPp"}},5918:function(n){n.exports={deletePresetButton:"Presets_deletePresetButton__2VJDo",deletePreset:"Presets_deletePreset__2lR_m"}}},function(n){n.O(0,[774,980,888,179],(function(){return t=8581,n(n.s=t);var t}));var t=n.O();_N_E=t}]);