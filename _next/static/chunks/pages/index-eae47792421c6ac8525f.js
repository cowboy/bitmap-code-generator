(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6923:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return rn}});var r=e(2809),o=e(318),a=e(7294),c=e(9008),u=e(6467),i=e(1860),s=e.n(i),l=function(){var n=a.useState(0),t=(0,o.Z)(n,2),e=(t[0],t[1]);return function(){return e((function(n){return n+1}))}},f=e(5918),p=e.n(f),m=e(5893),h=s().namespace("preset"),d={robot:[66,126,129,165,129,126,60,255],play:[255,129,177,189,189,177,129,255],stop:[255,129,189,189,189,189,129,255],ok:[101,149,149,150,150,149,149,101],err:[61,66,133,137,145,161,66,188],number1:[6,14,22,6,6,6,6,31],number2:[14,27,3,3,6,12,24,31],number3:[30,3,3,14,3,3,3,30],number4:[3,7,11,27,31,3,3,3]},b=function(n){return d[n]},j=function(n){return h(n)},y=function(n){var t=n.onClick,e=l(),r=function(n,r){return function(o){if("SPAN"===o.target.nodeName)confirm('Delete preset "'.concat(r,'"?'))&&(!function(n){h.remove(n)}(r),e());else{var a=n(r);t({name:r,array:a})}}};return(0,m.jsxs)("div",{children:[h.size()>0&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h3",{children:"Your saved bitmaps"}),Object.keys(h()).sort().map((function(n){return(0,m.jsxs)("button",{onClick:r(j,n),children:[n,(0,m.jsx)("span",{className:p().deletePreset,children:"\u2bbf"})]},n)}))]}),(0,m.jsx)("h3",{children:"Example bitmaps"}),Object.keys(d).map((function(n){return(0,m.jsx)("button",{onClick:r(b,n),children:n},n)}))]})},v=e(3789),x=e(1077),g=e(6129);function O(){O=function(n,t){return new e(n,void 0,t)};var n=RegExp.prototype,t=new WeakMap;function e(n,r,o){var a=new RegExp(n,r);return t.set(a,o||t.get(n)),(0,g.Z)(a,e.prototype)}function r(n,e){var r=t.get(e);return Object.keys(r).reduce((function(t,e){return t[e]=n[r[e]],t}),Object.create(null))}return(0,x.Z)(e,RegExp),e.prototype.exec=function(t){var e=n.exec.call(this,t);return e&&(e.groups=r(e,this)),e},e.prototype[Symbol.replace]=function(e,o){if("string"===typeof o){var a=t.get(this);return n[Symbol.replace].call(this,e,o.replace(/\$<([^>]+)>/g,(function(n,t){return"$"+a[t]})))}if("function"===typeof o){var c=this;return n[Symbol.replace].call(this,e,(function(){var n=arguments;return"object"!==typeof n[n.length-1]&&(n=[].slice.call(n)).push(r(n,c)),o.apply(this,n)}))}return n[Symbol.replace].call(this,e,o)},O.apply(this,arguments)}var A={"C++ (GyverMAX7219)":{fromCode:function(n){return(O(/.*?([0-9A-Z_a-z]+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\[\](?:(?!=)[\s\S])*=[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\{((?:(?!\})[\s\S])+)?\}?.*$/,{name:1,arrayStr:2}).exec(n)||{}).groups},toCode:function(n){var t=n.name,e=n.arrayStr;return"const uint8_t ".concat(t,"[] PROGMEM = {").concat(e,"};")}},JavaScript:{fromCode:function(n){return(O(/.*?([0-9A-Z_a-z]+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*=[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\[((?:(?!\])[\s\S])+)?\]?.*$/,{name:1,arrayStr:2}).exec(n)||{}).groups},toCode:function(n){var t=n.name,e=n.arrayStr;return"const ".concat(t," = [").concat(e,"]")}}};function C(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function w(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?C(Object(e),!0).forEach((function(t){(0,r.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):C(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var S=s().namespace("transform"),_=function(n){return function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce((function(n,t){return w(w({},n),t(n))}),n)}},P=function(n){var t=Array.isArray(n)?Math.max.apply(Math,(0,v.Z)(n)):n;return 8*Math.ceil(t/8)},k=function(n){var t=Array.isArray(n)?Math.max.apply(Math,(0,v.Z)(n)):n;return 8*Math.max(1,Math.floor(t/8))},E=function(n){return P(n.split("\n").map((function(n){return n.length})))},N=function(n){var t=n.bitmap,e=E(t),r=function(n){return n%10};console.log(["  ".concat(Array.from({length:e},(function(n,t){return r(t)})).join(""))].concat((0,v.Z)(t.split("\n").map((function(n,t){return"".concat(r(t),"|").concat(n,"|")})))).join("\n"))},F=function(n){var t=n.code,e=n.format,r=A[e].fromCode(t.trim())||{},o=r.name,a=void 0===o?"":o,c=r.arrayStr,u=void 0===c?"":c,i=r.array;return{name:a,array:void 0===i?/\S/.test(u)?u.split(/\s*,\s*/).filter((function(n,t,e){var r=e.length;return!(""===n&&t===r-1)})).map((function(n){return""===n?0:parseInt(n)})).map((function(n){return isNaN(n)?0:n})):[]:i}},M=function(n){var t=n.array,e=function(n){return P(n.map((function(n){return n.toString(2).length})))}(t);return{bitmap:t.map((function(n){var t=n.toString(2).replace(/0/g," ").replace(/1/g,"x"),r=" ".repeat(Math.max(0,e-t.length));return"".concat(r).concat(t)})).join("\n")}},Z=function(n){var t=n.bitmap,e=E(t);return{array:t.split("\n").map((function(n){n=n.replace(/ /g,"0").replace(/[^0]/g,"1"),n+="0".repeat(Math.max(0,e-n.length));var t=parseInt(n,2);return isNaN(t)?0:t}))}},B=function(n){var t=n.array,e=n.name,r=n.format,o=P(t.map((function(n){return n.toString(2).length}))),a=(Math.pow(2,o)-1).toString(16).length,c=t.map((function(n){var t="".concat("0".repeat(a)).concat(n.toString(16)).slice(-a);return"0x".concat(t)})).join(", ");return{code:A[r].toCode({name:e,array:t,arrayStr:c})}},D=function(n){var t=n.bitmap,e=n.array;if(t){var r=t.split("\n");return{width:P(r.map((function(n){return n.length}))),height:r.length}}return{width:P(e.map((function(n){return n.toString(2).length}))),height:e.length}},G=function(n){var t=n.format,e=void 0===t?S("format")||"C++ (GyverMAX7219)":t;return S("format",e),{format:e}},R=function(n){var t=n.scale,e=void 0===t?S("scale")||1:t;return e=Math.max(.25,Math.min(e,2)),S("scale",e),{scale:e}};function H(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function T(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?H(Object(e),!0).forEach((function(t){(0,r.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):H(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var X="robot",z=_({name:X,array:b(X)})(G,R,M,D,B,N),U={scale:function(n,t){return _(T(T({},n),{},{scale:t}))(R)},bitmap:function(n,t){return _(T(T({},n),{},{bitmap:t}))(Z,D,B,N)},code:function(n,t){return _(T(T({},n),{},{code:t}))(F,M,D,N)},formatCode:function(n,t){return _(T(T({},n),{},{code:t}))(B)},name:function(n,t){return _(T(T({},n),{},{name:t}))(B)},format:function(n,t){return _(T(T({},n),{},{format:t}))(G,B)},preset:function(n,t){var e=t.name,r=t.array;return _(T(T({},n),{},{name:e,array:r}))(M,D,B,N)}},I=function(n,t){var e=t.type,r=t.payload;return U[e]?U[e](n,r):n},L=e(1186),Q=e.n(L),V=e(4184),W=e.n(V),J=e(9140),q=e.n(J),Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],$=[16380,16386,32769,32769,32769,32769,32769,32769,32769,32769,32769,32769,32769,32769,16386,16380],K=[32766,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,32766],nn=function(n){var t=n.bitmap,e=n.width,c=n.height,u=n.scale,i=n.onChangeBitmap,s=n.onChangeScale,l=8===e,f=8===c,p=a.useState(null),h=(0,o.Z)(p,2),d=h[0],b=h[1],j=function(n){return function(){s(n*u)}},y=function(n){return n.split("\n").map((function(n){return n.length<e&&(n+=" ".repeat(e-n.length)),n.split("").map((function(n){return" "!==n}))}))},x=function(n,t){return y(n).forEach((function(n,e){return n.forEach((function(n,r){return t(r,e,n)}))}))},g=function(n){return O(n)()},O=function(n){return function(){var e=y(t);i(function(n){return n.map((function(n){return n.map((function(n){return n?"x":" "})).join("")})).join("\n")}(n(e)||e))}},A=function(n,t){return function(e){var r;e.preventDefault(),g((function(e){r=e[t][n]=!e[t][n]})),b(r)}},C=function(n,t){return function(){null!==d&&g((function(e){e[t][n]=d}))}};a.useEffect((function(){var n=function(){b(null)};return document.addEventListener("mouseup",n,!1),function(){document.removeEventListener("mouseup",n,!1)}}));var w=P(1),S=function(n){return function(t){return t.map(n)}},_=function(n){return function(t){return[].concat((0,v.Z)(t.slice(n)),(0,v.Z)(t.slice(0,n)))}},E=function(n){return function(t){return[].concat((0,v.Z)(t),(0,v.Z)(n()))}},N=function(n){return function(t){return t.slice(0,k(n-1))}},F=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!1};return function(){return Array.from({length:n},t)}},Z=O(S(S((function(){return!1})))),B=O(S(S((function(n){return!n})))),D=O(S(_(1))),G=O(S(_(-1))),R=O(_(1)),H=O(_(-1)),T=O(S(N(e))),X=O(S(E(F(w)))),z=O(N(c)),U=O(E(F(w,F(e))));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Q(),{url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAklEQVR4AewaftIAAABzSURBVJ3BAXKCABAEsOz9/89bAXWgFqomQe0EtQka1Kkh9moT1E1dGuovdS1iMb5UtRhviTPjLXVmfCtW4y4+k1qNu3oV52ozLtT/xtdiMZ7iM7UYT3UQd3FliFUcFXFTr+JhqFWJX+pEPYydOoqdWMXRD7IJGR9tCTLHAAAAAElFTkSuQmCC",renderOverlay:function(n,e){var r=new Uint8ClampedArray(1024),o=function(n,t,e){var o=4*(16*t+n);r[o+0]=e?255:0,r[o+1]=e?255:0,r[o+2]=e?255:0};x(M({array:l&&f?$:Y}).bitmap,o),x(M({array:K}).bitmap,(function(n,t,e){r[4*(16*t+n)+3]=e?255:0})),x(t,(function(n,t,e){o(n+(l?4:0),t+(f?4:0),e)}));var a=new ImageData(r,16,16);e.putImageData(a,0,0)}}),(0,m.jsxs)("div",{className:q().buttons,children:[(0,m.jsxs)("span",{className:q().buttonGroup,children:[(0,m.jsx)("button",{onClick:Z,children:"clear"}),(0,m.jsx)("button",{onClick:B,children:"invert"})]}),(0,m.jsxs)("span",{className:q().buttonGroup,children:[(0,m.jsx)("span",{className:q().buttonHeader,children:"Move"}),(0,m.jsx)("button",{onClick:D,children:"\u21e6"}),(0,m.jsx)("button",{onClick:H,children:"\u21e9"}),(0,m.jsx)("button",{onClick:R,children:"\u21e7"}),(0,m.jsx)("button",{onClick:G,children:"\u21e8"})]}),(0,m.jsxs)("span",{className:q().buttonGroup,children:[(0,m.jsx)("span",{className:q().buttonHeader,children:"Size"}),(0,m.jsxs)("span",{children:[e,"x",c]})]}),(0,m.jsxs)("span",{className:q().buttonGroup,children:[(0,m.jsx)("span",{className:q().buttonHeader,children:"Width"}),(0,m.jsxs)("button",{onClick:T,children:["-",w]}),(0,m.jsxs)("button",{onClick:X,children:["+",w]})]}),(0,m.jsxs)("span",{className:q().buttonGroup,children:[(0,m.jsx)("span",{className:q().buttonHeader,children:"Height"}),(0,m.jsxs)("button",{onClick:z,children:["-",w]}),(0,m.jsxs)("button",{onClick:U,children:["+",w]})]}),(0,m.jsxs)("span",{className:q().buttonGroup,children:[(0,m.jsx)("span",{className:q().buttonHeader,children:"Pixel scale"}),(0,m.jsx)("button",{onClick:j(.5),children:"\u21e9"}),(0,m.jsx)("button",{onClick:j(2),children:"\u21e7"})]})]}),(0,m.jsx)("style",{children:".".concat(q().table," { --cell-size: ").concat(30*u,"px; }")}),(0,m.jsx)("table",{className:q().table,children:(0,m.jsx)("tbody",{children:y(t).map((function(n,t){return(0,m.jsx)("tr",{className:q().row,children:n.map((function(n,e){return(0,m.jsx)("td",{className:W()(q().cell,(0,r.Z)({},q().on,n)),onMouseDown:A(e,t),onMouseEnter:C(e,t)},e)}))},t)}))})})]})};function tn(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function en(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(e),!0).forEach((function(t){(0,r.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):tn(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function rn(){var n=a.useReducer(I,z),t=(0,o.Z)(n,2),e=t[0],r=t[1],i=l(),s=function(n){return function(t){var e=t.target.value;r({type:n,payload:e})}},f=function(n){return function(t){r({type:n,payload:t})}};return(0,m.jsxs)(u.default,{children:[(0,m.jsxs)(c.default,{children:[(0,m.jsx)("title",{children:"Bitmap \u21d4 Code Generator"}),(0,m.jsx)("meta",{name:"description",content:"Bitmap \u21d4 Code Generator"})]}),(0,m.jsx)("h1",{children:"Bitmap \u21d4 Code Generator"}),(0,m.jsxs)("label",{children:[(0,m.jsx)("h3",{children:"Name"}),(0,m.jsx)("input",{value:e.name,onChange:s("name"),className:"code"})," ",(0,m.jsx)("button",{onClick:function(){var n,t;n=e.name,t=e.array,h.has(n)&&!confirm('Replace preset "'.concat(n,'"?'))||h(n,t),i()},children:"Save"})]}),(0,m.jsx)("h3",{children:"Bitmap"}),(0,m.jsx)(nn,en(en({},e),{},{onChangeBitmap:f("bitmap"),onChangeScale:f("scale")})),(0,m.jsxs)("label",{children:[(0,m.jsx)("h3",{children:"Code format"}),(0,m.jsx)("select",{value:e.format,onChange:s("format"),children:Object.keys(A).map((function(n){return(0,m.jsx)("option",{value:n,children:n},n)}))})]}),(0,m.jsxs)("label",{children:[(0,m.jsx)("h3",{children:"Code"}),(0,m.jsx)("textarea",{value:e.code,onChange:s("code"),onBlur:s("formatCode"),className:"code"})]}),(0,m.jsx)(y,{onClick:f("preset")}),(0,m.jsxs)("p",{children:["Made by"," ",(0,m.jsx)("a",{href:"http://benalman.com/",children:"\u201cCowboy\u201d Ben Alman"})," for"," ",(0,m.jsx)("a",{href:"https://www.theentirerobot.com/",children:"The Entire Robot"}),". Source code on"," ",(0,m.jsx)("a",{href:"https://github.com/cowboy/bitmap-code-generator",children:"GitHub"}),", patches welcome!"]})]})}},8581:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(6923)}])},9140:function(n){n.exports={table:"Bitmap_table__3Vul6",row:"Bitmap_row__3Pbov",cell:"Bitmap_cell__3vlDp",on:"Bitmap_on__1ZaZr",buttonGroup:"Bitmap_buttonGroup__3_cDi",buttonHeader:"Bitmap_buttonHeader__3kLPp"}},5918:function(n){n.exports={deletePreset:"Presets_deletePreset__2lR_m"}}},function(n){n.O(0,[774,980,888,179],(function(){return t=8581,n(n.s=t);var t}));var t=n.O();_N_E=t}]);